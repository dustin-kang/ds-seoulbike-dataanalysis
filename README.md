
# 서울시 공영자전거 따릉이 데이터가 날씨와 시간이 얼마나 영향을 미치는가

## 1. 서론
“서울시 공영자전거 따릉이 데이터가 날씨와 시간이 얼마나 영향을 미치는가”
 우선, 서울시 공용자전거 따릉이는 ’누구나, 언제나, 어디서나 쉽게 편리하게 이용할 수 있는 무인대여 시스템’ 문구를 통해 서울시의 교통체증, 대기오염, 고유가 문제를 해결하고 건강한 사회 또는 시민들의 삶의 질을 높이고자 마련되었습 니다. 서울시 공용자전거 따릉이의 기대 효과는 건강한 자전거 도시, 깨끗한 자전거의 도시, 녹색 성장 선도 도시입니다. 결국, 시민들의 삶의 질을 높이기 위해 서비스를 구상해야 함을 알고 따릉이 데이터가 외부적 요인에 미치는 영향을 파 악해 기대효과를 최대로 높일 수 있는 서비스를 구상해야 합니다.
 
 하지만 개인 자전거와 다르게 공용자전거는 보관이나 대여상태 혹은 대여가 쉽게 할 수 없다는 점 등의 문제점이 있습니다. 그래서, 시민들의 삶의 질을 높이는 기대효과를 높이기 위해 더 많은 시민이 자전거를 원하 는 때에 불편하지 않게 이용하도록 서비스를 구상해야 합니다. 결국, 시민들이 자전거를 언제 타는 것이 좋을지에 대해 분석해야 합니다.
 
## 2. 과정
### 데이터 수집
  - 서울시 공영자전거 따릉이의 2020년 대여이력 데이터 세트 [서울 열린데이터 광장](http://data.seoul.go.kr/dataList/OA-15245/F/1/datasetView.do)
  - 서울시 공영자전거 따릉이의 2020년 대여소 정보 데이터 세트 [서울 열린데이터 광장](http://data.seoul.go.kr/dataList/OA-13252/F/1/datasetView.do)
  - 서울 2020년 자치구별 날씨 데이터 [기상자료정보포털](https://data.kma.go.kr/data/grnd/selectAwsRltmList.do?pgmNo=56)
 
### 데이터 전처리 과정
  - 따릉이 데이터 로드와 전처리 과정으로 데이터를 정리하고 날씨 데이터와 병합함.
  - 따릉이 데이터를 불러와 2019년 데이터와 필요 없는 칼럼을 제거함. 
  - 정의되지 않는 데이터 자료형을 변경함.
  - 금천구의 대여소만 불러와 기존 따릉이 대여 이력을 대여소 번호 기준으로 병합함.

### 머신러닝 회귀 모델링
  - 데이터를 인코딩하여 요일은 7개의 벡터로 나눔(월~일)
  - 훈련 데이터와 테스트 데이터를 나누고 머신러닝 회귀 알고리즘으로 데이터를 학습시킴.
  - XGBoost를 이용한 이용건수에 관해 중요한 Feature 예측
  - 피처 중요도와 예측값 분포를 시각화함.
  - 금천구 전체 대여소를 기준으로 학습 및 예측함.

## 3. 결론
- 다른 예측모델과 0.5 정도 밖에 차이가 나지 않음
- 평균 MAE가 전체 MAE와 비슷할정도로 무난한 분포임.
- 대여 시간 피처가 가장 중요도가 높으며 대부분 오후 3시 이후부터 사용수가 증가함.
- 피쳐 중요도로는 대여시간, 주말, 강수량이 가장 높음.

## 4. 서비스 구상

### (1) 자전거 사용자 급증으로 구청에서 자전거를 분산시키는 것을 돕고자 하는 데이터 지표 
공용자전거는 공급이 수요에 못 미칠 때 혹은 수요가 공급에 못 미칠 때 등의 문제점(대여소마다 분산화가 제대로 되어있지 않아 이용자가 멀리까지 걸어가서 빌려야하는 경우 등)이 있는데 이러한 문제점을 데이터 지표로 해결할 수 있습니다. 예를 들면, 이용자의 요구를 따라가는 자전거 분산으로 이용자가 편한 이용을 도와줍니다.

### (2) 따릉이 자체 앱에 사용자가 많은 시간 날씨 때에 알림을 하는 기능
현재 따릉이 앱에서는 지도화면에서 날씨 아이콘을 통해 날씨를 확인할 수 있는데 알릴 서비스를 통해 날씨와 사용자가 많은 시간을 알릴 수 있는 기능입니다. 

### (3) 따릉이 앱 알림 서비스를 통해 야외활동을 추천하는 기능
따릉이 앱 알림 서비스를 통해 날씨가 화창하여 나가기 적절한 날씨에 실내활동을 많이 하는 사람들에게 야외활동을 추천하는 기능으로 알람 서비스를 통해 야외활동을 추천하는 광고를 보내는 기능
